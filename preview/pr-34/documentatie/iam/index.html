<!doctype html><html lang=nl><head><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><title>IAM | MijnOverheid Zakelijk</title><meta name=description content="Bij MijnOverheid Zakelijk staan ondernemers centraal. Elk uur minder aan gedoe, is een uur meer ondernemen. We zorgen voor overzicht en makkelijk zaken doen. Met elkaar bouwen we zo aan nieuwe digitale snelwegen."><link rel=icon href=/moza-site/preview/pr-34/favicon.ico type=image/x-icon><link rel=stylesheet href=/moza-site/preview/pr-34/css/style.d7b5263c47ca3ec112794ed40ce533e2.css><script src=/moza-site/preview/pr-34/js/bundle.f708e6c53039c684a38ddc8d9c70bc8a.js defer></script></head><body><a href=#main-content class=skip-link>Ga naar de inhoud</a><header><div class=banner><div class=site-info><p class=title><a href=/>MijnOverheid Zakelijk</a></p><p class=tagline>Makkelijk zaken doen met de overheid</p></div><div class=site-logo><a href=/ tabindex=-1 aria-hidden=true><img src=/moza-site/preview/pr-34/images/logo-rijksoverheid.svg alt="Logo Rijksoverheid"></a></div></div><nav class=navbar aria-label=Hoofdnavigatie><a href=/ class=title>MijnOverheid Zakelijk</a><div class=menu><ul><li><a href=/moza-site/preview/pr-34/ data-text=Home>Home</a></li><li><a href=/moza-site/preview/pr-34/over-moza/ data-text="Over MOZa">Over MOZa</a></li><li><a href=/moza-site/preview/pr-34/actueel/ data-text=Actueel>Actueel</a></li><li><a href=/moza-site/preview/pr-34/onderwerpen/ data-text=Onderwerpen>Onderwerpen</a></li><li><a href=/moza-site/preview/pr-34/documentatie/ data-text=Documentatie class=active aria-current=page>Documentatie</a></li><li><a href=/moza-site/preview/pr-34/contact/ data-text=Contact>Contact</a></li></ul><ul class=navbar-right><li><button class=search-trigger aria-label=Zoeken aria-haspopup=dialog><svg class="search-icon" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5.0 100 11 5.5 5.5.0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75.0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"/></svg><span class=search-trigger-text>Zoeken...</span>
<kbd class=search-shortcut>/</kbd></button></li><li><button id=theme-toggle class=theme-toggle aria-label="Toggle theme"><svg class="sun" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364-6.364-.707.707M6.343 17.657l-.707.707m12.728.0-.707-.707M6.343 6.343l-.707-.707M12 8a4 4 0 100 8 4 4 0 000-8z"/></svg><svg class="moon" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg></button></li></ul></div><button class="search-trigger mobile-search" aria-label=Zoeken aria-haspopup=dialog><svg class="search-icon" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5.0 100 11 5.5 5.5.0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75.0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"/></svg></button>
<button class="theme-toggle mobile-theme" aria-label="Wissel thema" onclick='document.getElementById("theme-toggle").click()'><svg class="sun" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364-6.364-.707.707M6.343 17.657l-.707.707m12.728.0-.707-.707M6.343 6.343l-.707-.707M12 8a4 4 0 100 8 4 4 0 000-8z"/></svg><svg class="moon" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003.0 0012 21a9.003 9.003.0 008.354-5.646z"/></svg></button>
<button class=toggle aria-label="Menu openen" aria-expanded=false aria-controls=mobile-menu onclick='const expanded=this.getAttribute("aria-expanded")==="false";this.setAttribute("aria-expanded",expanded),this.setAttribute("aria-label",expanded?"Menu sluiten":"Menu openen")'><svg class="menu-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2.5" d="M4 6h16M4 12h16M4 18h16"/></svg></button><div id=mobile-menu class=mobile role=navigation aria-label="Mobiel menu"><ul><li><a href=/moza-site/preview/pr-34/>Home</a></li><li><a href=/moza-site/preview/pr-34/over-moza/>Over MOZa</a></li><li><a href=/moza-site/preview/pr-34/actueel/>Actueel</a></li><li><a href=/moza-site/preview/pr-34/onderwerpen/>Onderwerpen</a></li><li><a href=/moza-site/preview/pr-34/documentatie/ class=active aria-current=page>Documentatie</a></li><li><a href=/moza-site/preview/pr-34/contact/>Contact</a></li><li class=mobile-theme-toggle><button class=theme-toggle aria-label="Toggle theme" onclick='document.getElementById("theme-toggle").click()'>
<span class=sun>Light Mode</span>
<span class=moon>Dark Mode</span></button></li></ul></div></nav><nav class=breadcrumb aria-label=Breadcrumb><ol><li><a href=/>Home</a>
<span class=separator aria-hidden=true></span></li><li><a href=/moza-site/preview/pr-34/documentatie/>Documentatie</a>
<span class=separator aria-hidden=true></span></li><li><span class=current aria-current=page>IAM</span></li></ol></nav></header><main id=main-content><article class=docs><h1>IAM</h1><div class=content><h2 id=context>Context</h2><p>De Identity en Access Management (IAM) is gerealiseerd met Keycloak; een open source Identity en Access Management systeem voor moderne applicaties en services. Deze wordt gebruikt om gebruikers en services binnen MOZA te identificeren en te autoriseren. Keycloak is een Identity Broker waar diverse Identity Providers op kunnen worden aangesloten middels Open ID Connect koppelingen</p><p>Via Keycloak wordt toegang verleend aan bedrijven middels:</p><ol><li>DigiD
DigiD voor ZZP-ers</li><li>eHerkenning voor bedrijven
Bedrijven kunnen via eHerkenning inloggen. Deze koppeling wordt gerealiseerd middels Open ID Connect.</li><li>EIDAS
Voor europese bedrijven of Wallets&mldr;</li></ol><p>Meer informatie over Keycloak zelf is te vinden: <a href=https://www.keycloak.org/ target=_blank rel="external noopener noreferrer">https://www.keycloak.org</a></p><blockquote class=quote><p>NOTE: Documentatie moet nog verder worden uitgewerkt</p></blockquote><iframe id=structurizr-diagram-IAMContext src="/moza-site/preview/pr-34/diagrammen/index.html?iframe=structurizr-diagram-IAMContext#IAMContext" width=100% height=800px></iframe><h2 id=functioneel-overzicht>Functioneel Overzicht</h2><p>Tussen de MOZA en Keycloak is een Open ID Connect verbinding opgezet, waarmee gebruikers kunnen inloggen op basis van hun e-mail adres en wachtwoord. Binnen Keycloak is het mogelijk om een koppeling te maken met andere Identity Providers, waardoor het voor het MOZ systeem eenvoudiger wordt om aan te haken op bijvoorbeeld eHerkenning etc.</p><p>Zie de afbeelding hieronder voor de mogelijkheden:</p><p><img src=images/keycloak-ips.png alt="Identity Providers"></p><h2 id=software-architectuur>Software architectuur</h2><h3 id=kvk-bsn-api-integratie>KvK BSN API-integratie</h3><p>Om ondernemers op een betrouwbare manier te kunnen identificeren, maakt het systeem gebruik van de KvK-BSN API.<br>Deze integratie stelt de service in staat organisaties op te vragen waarin een natuurlijk persoon één of meerdere functies vervult.</p><h4 id=interactie-overzicht>Interactie-overzicht</h4><p>De endpoint <strong>POST <code>/mijnoverheid/mijnorganisaties</code></strong> ontvangt het BSN van de betreffende persoon.<br>De KvK-API verwerkt dit verzoek en retourneert een lijst met 0, 1 of meerdere organisaties die aan deze persoon zijn gekoppeld.<br>De interactie volgt een eenvoudige request–response-flow, zoals weergegeven in het sequentiediagram.</p><p><img src=./images/SeqKvKBSN.png alt="Sequentiediagram KvK BSN Api" title="Sequentiediagram KvK BSN Api"></p><table><thead><tr><th><strong>#</strong></th><th><strong>Omschrijving</strong></th><th><strong>Toelichting</strong></th></tr></thead><tbody><tr><td>1</td><td>POST /mijnoverheid/mijnorganisaties</td><td>De service doet een verzoek naar de KVK-API en stuurt hierbij het <strong>BSN van de natuurlijk persoon</strong> mee.</td></tr><tr><td>2</td><td>Lijst met organisaties</td><td>De KVK-API verwerkt het verzoek en retourneert een <strong>lijst met 0, 1 of meerdere organisaties</strong> waarin de natuurlijk persoon een functie vervult.</td></tr></tbody></table><details><summary>Zie mermaid code</summary><pre><code>sequenceDiagram
    participant Service

    Service--&gt;&gt;KvK API: POST /mijnoverheid/mijnorganisaties
    activate KvK API
    KvK API--&gt;&gt;Service: Lijst met 0, 1, of meer organisaties
    deactivate KvK API
</code></pre></details></div></article><aside class=toc><h2>Op deze pagina</h2><nav id=TableOfContents><ul><li><a href=#context>Context</a></li><li><a href=#functioneel-overzicht>Functioneel Overzicht</a></li><li><a href=#software-architectuur>Software architectuur</a><ul><li><a href=#kvk-bsn-api-integratie>KvK BSN API-integratie</a><ul><li><a href=#interactie-overzicht>Interactie-overzicht</a></li></ul></li></ul></li></ul></nav></aside></main><footer><p class=tagline>Eén Overheid. Voor iedereen!</p><nav aria-label="Footer navigatie"><h2>Over deze site</h2><ul><li><a href=/moza-site/preview/pr-34/privacy/>Privacy</a></li><li><a href=/moza-site/preview/pr-34/toegankelijkheid/>Toegankelijkheid</a></li></ul></nav></footer><dialog id=search-modal class=search-modal aria-label=Zoeken data-search-index=/moza-site/preview/pr-34/index.json><div class=search-modal-content><div class=search-modal-header><svg class="search-icon" viewBox="0 0 20 20" fill="currentColor" aria-hidden="true"><path fill-rule="evenodd" d="M9 3.5a5.5 5.5.0 100 11 5.5 5.5.0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75.0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z" clip-rule="evenodd"/></svg><input type=search id=search-input class=search-input placeholder=Zoeken... aria-label="Zoek op de website" autocomplete=off autofocus>
<button class=button-ghost id=search-close aria-label=Sluiten><svg class="x-icon" fill="none" stroke="currentColor" viewBox="0 0 24 24" aria-hidden="true"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18 18 6M6 6l12 12"/></svg></button></div><div class=search-filters role=group aria-label="Filter op sectie"><button class="search-filter active" data-section aria-pressed=true>Alles</button>
<button class=search-filter data-section=weekly aria-pressed=false>MOZa Weekly</button>
<button class=search-filter data-section=onderwerpen aria-pressed=false>Onderwerpen</button>
<button class=search-filter data-section=presentaties aria-pressed=false>Presentaties</button></div><ul id=search-results class=search-results aria-label=Zoekresultaten aria-live=polite></ul></div></dialog><button id=highlight-bar class=toast aria-live=polite hidden>
Zoekterm "<span id=highlight-bar-query></span>" is gemarkeerd. Klik hier om de markering te verwijderen.
</button>
<script src=/moza-site/preview/pr-34/js/toc.317ebb0b1691c91a41375bd45b952fdd.js></script></body></html>