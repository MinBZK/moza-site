<!DOCTYPE html>
<html lang="nl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{{ .Title }} | {{ .Site.Title }}</title>
  {{/* Reveal.js CSS bundelen */}}
  {{ $revealCore := resources.Get "vendor/reveal/reveal.css" }}
  {{ $revealTheme := resources.Get "vendor/reveal/white.css" }}
  {{ $revealCustom := resources.Get "css/reveal.css" }}
  {{ $revealCss := slice $revealCore $revealTheme $revealCustom | resources.Concat "css/reveal-bundle.css" }}
  <link rel="stylesheet" href="{{ $revealCss.RelPermalink }}">
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
    }
    .reveal {
      height: 100vh;
    }
  </style>
</head>
<body>
  <button
    class="close-button"
    onclick="history.back()"
    aria-label="Sluit presentatie"
  >&#10005;</button>

  <div class="reveal">
    <img
      src="{{ relURL "images/logo-rijksoverheid.svg" }}"
      alt="Logo Rijksoverheid"
      id="header-logo"
    />
    <div class="slides">
      {{ .Content }}
    </div>
  </div>

  {{/* Reveal.js JavaScript */}}
  {{ $revealJs := resources.Get "vendor/reveal/reveal.js" }}
  <script src="{{ $revealJs.RelPermalink }}"></script>
  <script>
    Reveal.initialize({
      embedded: true,
      controls: true,
      progress: true,
      overview: true,
      hash: true
    }).then(() => {
      // Check logo visibility on initial load
      updateLogoVisibility(Reveal.getCurrentSlide());
    });

    function updateLogoVisibility(slide) {
      const logo = document.getElementById('header-logo');
      if (slide && slide.classList.contains('hide-logo')) {
        logo.classList.add('logo-hidden');
      } else {
        logo.classList.remove('logo-hidden');
      }
    }

    // Hide logo when slide has .hide-logo class
    Reveal.on('slidechanged', event => {
      updateLogoVisibility(event.currentSlide);
    });
  </script>
</body>
</html>
